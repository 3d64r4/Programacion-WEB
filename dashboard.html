<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N De-XOO</title>
    <link rel="stylesheet" href="style.css">
    <script src="javascript.js" defer></script>

</head>

<body style="margin: 0 auto; padding: 0; box-sizing: border-box;">
    <header>
        <nav>
            <ul style="display: flex; list-style: none; justify-content: space-around;">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#skills">Que son las TE</a></li>
                <li><a href="registro.html">Sign up</a></li>
                <li><a href="login.html">login</a></li>
            </ul>
        </nav>
        <main style="margin-top: 70px; padding: 20px;">
            <h1 id="title">N De-XOO</h1>

            <h2>Debes saber cuando ya lidiaste mucho tiempo a una persona dificil (N De-XOO) y que si los hay </h2>
        </main>




        <h3>Elige la opcion</h3>

        <ul>
            <div id="opciones">
                <figure>
                    <li class="divhome item1">Registra al N De-XOO</li> <a target="_blank" href="http://google.com">
                    </a> <img src="NDEXOO.png" alt="logo html" width="300px" height="300px">
                </figure>
                <figure>
                    <li class="divhome item1">Agregra gotas al vaso</li> <a target="_blank" href="http://google.com">
                    </a> <img src="gota.jpg" alt="logo css" width="300px" height="300px">
                </figure>
                <figure>
                    <li class="divhome item1">Ve como va el vaso</li> <a target="_blank" href="http://google.com"> </a>
                    <img src="vaso.jpg" alt="logo javascript" width="300px" height="300px">
                    <br>
                    <figcaption>Crees que necesitas alguna otra opcion</figcaption>
                </figure>
            </div>
        </ul>


        <p>Esperamos poder ayudarte, mereces estar en paz</p>



        <footer>
            <form id="formulario">
                <h2>¿Necesitas alguna otra opción? Solicítala</h2>
                <br>

                <label for="nombre">Nombre</label><br>
                <input class="inputs" id="nombre" type="text" name="nombre" placeholder="Edgar A" required
                    pattern="[A-Za-zÑñ ]+">
                <br>

                <label for="correo">Correo</label><br>
                <input class="inputs" id="correo" type="email" name="correo" placeholder="ejemplo@hotmail.com" required>
                <br>

                <label for="comentarios">Comentarios</label><br>
                <textarea class="inputs" id="comentarios" name="comentarios"
                    placeholder="Escribe tus comentarios aquí..." required></textarea>
                <br><br>

                <input id="inputbuttom" type="submit" value="Enviar">
            </form>
        </footer>


        <script>
            const form = document.getElementById('formulario');

            form.addEventListener('submit', async (e) => {
                e.preventDefault();

                const nombresolicitud = document.getElementById('nombre').value.trim();
                const correo = document.getElementById('correo').value.trim();
                const comentario = document.getElementById('comentarios').value.trim();

                if (!nombresolicitud || !correo || !comentario) {
                    alert('Completa todos los campos');
                    return;
                }

                try {
                    const response = await fetch('http://localhost:4000/solicitudes', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            nombresolicitud,
                            correo,
                            comentario
                        })
                    });

                    const data = await response.json();

                    if (!response.ok) {
                        alert(data.mensaje);
                        return;
                    }

                    alert('Solicitud enviada correctamente');
                    form.reset();

                } catch (error) {
                    console.error(error);
                    alert('Error al enviar la solicitud');
                }
            });
        </script>



</body>

</html>